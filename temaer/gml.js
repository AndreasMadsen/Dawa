"use strict";

var _ = require('underscore');

function coordinatesAs2DWkt(text) {
  text = text._ || text;
  var points = text.split(' ');
  return _.map(points,function (point) {
    var coords = point.split(',');
    return coords[0] + ' ' + coords[1];
  }).join(',');
}

function poslistAs2DWkt(text) {
  text = text._ || text;

  // transform "x1 y1 x2 y2..." into [['x1','y1'],['x2','y2]]
  var points = _.chain(text.split(' ')).groupBy(function(element, index) {
    return Math.floor(index/2);
  }).toArray().value();

  return _.map(points,function (point) {
    return point[0] + ' ' + point[1];
  }).join(',');
}

function polygonWktCoordsText(gmlPolygon) {
  var coordinates = gmlPolygon.outerBoundaryIs[0].LinearRing[0].coordinates[0];
  var outerCoordsText = coordinatesAs2DWkt(coordinates);

  var innerBoundaryIsList = gmlPolygon.innerBoundaryIs || [];
  var innerCoordsTexts = _.map(_.map(innerBoundaryIsList, function (innerBoundaryIs) {
    return innerBoundaryIs.LinearRing[0].coordinates[0];
  }), coordinatesAs2DWkt);
  var innerCoordsText = _.reduce(innerCoordsTexts, function (memo, text) {
    return memo + ',(' + text + ')';
  }, '');
  return '((' + outerCoordsText + ')' + innerCoordsText + ')';
}

function gmlPolygonToWkt(gmlPolygon) {
  return 'POLYGON' + polygonWktCoordsText(gmlPolygon);
}

function gmlMultiPolygonToWkt(gmlMultiPolygon) {
  var texts = gmlMultiPolygon.polygonMember.map(function(polygonMember) {
    var polygon = polygonMember.Polygon[0];
    return polygonWktCoordsText(polygon);
  });
  return 'MULTIPOLYGON(' + texts.join(', ') + ')';
}

function gmlSurfaceToWkt(gmlSurface) {
  var coordinates = gmlSurface.patches[0].PolygonPatch[0].exterior[0].LinearRing[0].posList[0];
  var outerCoordsText = poslistAs2DWkt(coordinates);

/*
  var innerBoundaryIsList = gmlSurface.innerBoundaryIs || [];
  var innerCoordsTexts = _.map(_.map(innerBoundaryIsList, function (innerBoundaryIs) {
    return innerBoundaryIs.LinearRing[0].coordinates[0];
  }), coordinatesAs2DWkt);
  var innerCoordsText = _.reduce(innerCoordsTexts, function (memo, text) {
    return memo + ',(' + text + ')';
  }, '');
*/
  var innerCoordsText = '';
  return '((' + outerCoordsText + ')' + innerCoordsText + ')';


  /*
                  <gml:Surface srsName="EPSG:25832" srsDimension="2">
                    <gml:patches>
                        <gml:PolygonPatch>
                            <gml:exterior>
                                <gml:LinearRing>
                                    <gml:posList>467919.254 6202449.87 467918.868 6202449.233 467904.348 6202421.586 467886.927 6202386.658 467883.376 6202378.663 467979.476 6202337.286 467980.384 6202338.193 467985.129 6202341.399 467991.189 6202344.156 467998.783 6202346.787 468002.946 6202348.891 468003.888 6202349.732 468004.703 6202350.461 468006.486 6202352.617 468008.843 6202358.642 468010.776 6202367.449 468011.972 6202371.842 468014.405 6202376.431 468018.406 6202383.38 468020.412 6202389.509 468022.678 6202396.338 468020.451 6202397.49 467919.254 6202449.87</gml:posList>
                                </gml:LinearRing>
                            </gml:exterior>
                        </gml:PolygonPatch>
                    </gml:patches>
                </gml:Surface>


                <gml:Polygon srsName="urn:ogc:def:crs:EPSG::25832">
                    <gml:outerBoundaryIs>
                        <gml:LinearRing>
                            <gml:coordinates>560887.52,6225973.64 560887.03,6225969.66 560883.96,6225970.61 560878.83,6225978.55 560875.62,6225987.43 560872.44,6225997.41 560865.25,6226003.19 560855.31,6226006.01 560845.18,6226008.9 560836.15,6226010.66 560826.19,6226008.49 560823.39,6225999.54 560823.59,6225989.4 560824.79,6225979.44 560823.28,6225971.01 560817.53,6225970.77 560814.93,6225972.23 560807.78,6225979.06 560800.6,6225985.98 560793.47,6225992.88 560785.28,6225999.66 560776.3,6226001.45 560767.45,6225997.27 560761.6,6225990.17 560759.73,6225979.95 560756.98,6225970.07 560752.01,6225970.38 560744.9,6225975.82 560735.07,6225986.45 560731.54,6225988.57 560726.75,6225981.49 560723.96,6225972.43 560721.21,6225962.35 560716.33,6225953.27 560707.45,6225949.1 560698.44,6225947.88 560688.41,6225949.65 560679.29,6225954.56 560671.21,6225959.32 560664.0,6225964.53 560663.76,6225966.55 560656.44,6225968.32 560631.62,6225974.51 560619.52,6225979.52 560604.75,6225986.94 560597.31,6225993.87 560590.56,6225996.36 560588.64,6225996.92 560580.54,6226000.06 560577.84,6226001.74 560567.82,6226004.68 560557.12,6226007.34 560536.0,6226011.49 560520.05,6226014.62 560508.07,6226019.02 560500.91,6226025.96 560496.78,6226034.85 560494.63,6226043.85 560492.36,6226053.78 560487.17,6226062.67 560480.0,6226068.52 560470.91,6226074.37 560462.8,6226079.21 560453.7,6226082.98 560444.68,6226087.81 560435.6,6226091.68 560426.67,6226089.44 560418.73,6226084.25 560417.49,6226082.8 560411.86,6226076.18 560405.01,6226069.02 560399.16,6226060.83 560393.32,6226052.79 560385.4,6226046.64 560377.55,6226041.52 560369.26,6226040.43 560367.69,6226040.23 560357.6,6226039.02 560325.57,6226037.64 560312.09,6226035.84 560306.35,6226033.44 560291.9,6226023.07 560253.25,6225995.35 560244.42,6225988.11 560237.65,6225990.71 560233.42,6225999.63 560230.34,6226008.5 560221.03,6226011.42 560209.25,6226010.11 560207.02,6226009.31 560200.31,6226006.89 560196.23,6226003.65 560189.98,6225996.77 560183.72,6225984.54 560180.96,6225975.55 560178.16,6225965.45 560176.34,6225955.52 560176.1,6225954.16 560174.55,6225945.42 560170.74,6225936.33 560165.91,6225927.25 560162.33,6225922.27 560157.57,6225918.48 560132.98,6225898.78 560130.75,6225896.99 560119.56,6225894.56 560118.61,6225894.35 560108.55,6225894.17 560098.57,6225894.03 560090.98,6225893.88 560088.58,6225893.83 560078.58,6225893.59 560068.61,6225893.34 560067.85,6225893.25 560058.63,6225892.11 560048.63,6225891.91 560038.72,6225890.74 560033.9,6225887.61 560030.79,6225885.59 560028.96,6225875.58 560029.14,6225865.66 560031.4,6225856.59 560033.53,6225846.7 560031.73,6225837.63 560025.91,6225828.46 560025.24,6225827.25 560003.31,6225813.58 559990.97,6225805.5 559984.39,6225804.64 559974.36,6225803.48 559964.34,6225805.26 559956.28,6225810.07 559950.38,6225812.56 559947.21,6225813.89 559937.21,6225813.69 559929.32,6225808.54 559924.48,6225800.44 559923.68,6225790.43 559926.93,6225780.55 559925.76,6225763.68 559923.19,6225761.11 559918.8,6225757.74 559910.26,6225752.46 559875.7,6225727.33 559867.42,6225722.7 559859.4,6225721.45 559823.77,6225721.72 559788.01,6225722.0 559772.69,6225719.96 559762.75,6225715.91 559753.56,6225710.72 559744.9,6225708.21 559739.35,6225706.6 559725.58,6225706.02 559712.07,6225708.59 559674.87,6225721.32 559664.49,6225725.69 559653.14,6225725.84 559589.47,6225731.55 559587.71,6225723.93 559574.64,6225642.17 559567.88,6225600.43 559566.99,6225573.5 559584.96,6225559.52 559611.73,6225557.86 559625.0,6225547.75 559625.19,6225537.45 559618.27,6225524.54 559620.91,6225521.99 559647.52,6225516.56 559654.69,6225512.44 559657.92,6225502.37 559661.22,6225500.96 559667.67,6225505.08 559691.74,6225489.48 559707.4,6225484.26 559705.35,6225492.54 559719.72,6225496.86 559724.27,6225489.49 559727.44,6225484.0 559737.4,6225478.88 559746.16,6225476.05 559750.77,6225472.87 559754.57,6225461.8 559760.59,6225458.67 559772.12,6225455.54 559779.34,6225450.71 559781.12,6225444.36 559784.9,6225444.0 559787.64,6225451.94 559799.84,6225454.95 559810.69,6225453.32 559822.54,6225447.44 559826.13,6225439.42 559826.42,6225422.3 559836.51,6225409.72 559843.7,6225401.11 559848.97,6225404.06 559861.38,6225399.61 559863.04,6225389.26 559862.02,6225381.78 559870.29,6225386.26 559877.35,6225385.6 559887.08,6225393.81 559893.83,6225390.87 559894.45,6225390.6 559897.92,6225385.62 559904.94,6225385.67 559914.05,6225382.02 559918.96,6225374.33 559917.0,6225367.73 559923.2,6225360.7 559935.9,6225358.7 559950.81,6225352.8 559967.82,6225346.63 559962.68,6225345.75 559956.55,6225333.54 559979.53,6225294.01 559974.45,6225285.97 559969.99,6225283.98 559962.88,6225277.51 559959.15,6225269.02 559957.11,6225248.58 559958.25,6225239.68 559955.01,6225234.34 559947.51,6225235.45 559944.94,6225232.68 559947.23,6225224.96 559938.71,6225217.81 559927.92,6225220.58 559916.21,6225212.78 559916.74,6225180.05 559922.64,6225179.6 559923.84,6225169.02 559927.13,6225165.43 559920.64,6225155.56 559920.58,6225151.64 559942.12,6225127.63 559954.39,6225128.4 559973.12,6225115.93 559988.37,6225119.8 559993.08,6225116.79 559988.23,6225106.49 559981.11,6225105.64 559991.38,6225096.32 559995.15,6225096.08 560001.92,6225095.66 560010.83,6225093.36 560024.05,6225084.84 560030.27,6225069.21 560033.36,6225065.37 560046.63,6225059.96 560052.38,6225069.91 560065.84,6225060.29 560069.73,6225057.5 560072.89,6225045.4 560071.05,6225041.75 560071.08,6225038.58 560086.22,6225031.05 560103.22,6225036.19 560113.6,6225020.21 560122.25,6225020.46 560128.98,6225011.66 560128.29,6225002.8 560110.54,6225002.24 560108.57,6224989.12 560116.99,6224981.22 560121.52,6224961.26 560116.13,6224948.69 560146.35,6224919.84 560155.32,6224913.64 560163.58,6224904.86 560174.57,6224883.91 560173.21,6224870.47 560177.92,6224864.31 560173.82,6224843.7 560168.84,6224844.12 560172.6,6224834.04 560188.63,6224810.54 560204.58,6224808.21 560216.17,6224793.14 560230.04,6224796.06 560243.57,6224789.06 560241.88,6224779.88 560246.25,6224780.49 560253.92,6224781.55 560259.68,6224776.86 560255.03,6224762.14 560259.22,6224753.15 560266.06,6224752.48 560272.16,6224746.08 560275.17,6224742.92 560267.41,6224739.3 560266.53,6224734.56 560268.52,6224728.1 560295.51,6224720.25 560290.75,6224715.06 560289.29,6224708.35 560311.82,6224693.42 560305.63,6224687.51 560299.09,6224686.15 560297.28,6224679.04 560299.52,6224675.92 560306.33,6224673.91 560310.48,6224668.1 560301.92,6224648.82 560307.2,6224633.01 560285.08,6224616.88 560285.47,6224607.77 560280.8,6224599.4 560277.6,6224593.66 560283.36,6224594.11 560287.27,6224594.41 560290.27,6224592.52 560291.27,6224585.26 560290.91,6224578.52 560291.01,6224578.14 560294.1,6224577.46 560299.11,6224581.83 560327.63,6224566.39 560368.05,6224539.98 560403.03,6224516.08 560417.65,6224500.39 560425.97,6224480.11 560433.01,6224462.95 560474.14,6224365.59 560449.18,6224352.6 560470.14,6224295.01 560492.54,6224289.82 560493.57,6224279.82 560499.99,6224272.15 560503.09,6224268.06 560505.63,6224264.7 560523.7,6224252.13 560526.97,6224244.31 560528.5,6224224.43 560516.27,6224225.75 560518.75,6224212.81 560521.83,6224204.67 560520.77,6224193.84 560516.83,6224191.35 560504.22,6224178.97 560500.77,6224163.31 560497.38,6224154.9 560497.03,6224147.86 560495.44,6224133.15 560493.18,6224117.21 560488.7,6224100.94 560483.27,6224088.94 560483.41,6224078.13 560480.93,6224064.95 560476.56,6224049.09 560477.91,6224037.48 560473.08,6224034.26 560464.35,6224024.67 560458.86,6224015.53 560457.84,6224005.63 560455.55,6224001.11 560453.43,6223988.15 560459.65,6223984.86 560462.91,6223972.88 560455.83,6223969.43 560453.84,6223964.62 560455.56,6223954.35 560456.56,6223952.41 560459.18,6223947.37 560459.25,6223939.43 560457.59,6223932.8 560461.91,6223919.12 560451.48,6223876.0 560447.02,6223857.56 560453.93,6223833.76 560458.62,6223811.35 560459.72,6223794.91 560457.84,6223782.46 560454.49,6223760.7 560452.76,6223744.09 560448.25,6223711.88 560446.34,6223694.92 560446.0,6223678.5 560440.46,6223663.09 560436.1,6223627.92 560430.52,6223583.06 560417.58,6223495.23 560415.25,6223487.75 560387.21,6223427.6 560377.88,6223416.12 560373.93,6223411.26 560363.77,6223390.84 560360.86,6223385.0 560326.54,6223333.75 560314.14,6223333.93 560298.65,6223330.66 560291.36,6223323.83 560282.19,6223319.92 560253.78,6223316.19 560233.48,6223314.38 560200.76,6223345.27 560199.22,6223346.72 560191.94,6223355.47 560171.33,6223377.1 560153.21,6223372.97 560134.57,6223368.67 560107.18,6223361.26 560086.97,6223356.48 560074.75,6223355.75 560019.23,6223356.68 559971.52,6223325.53 559966.71,6223342.06 559955.77,6223389.96 559953.05,6223406.5 559909.4,6223419.88 559901.06,6223411.67 559766.21,6223279.0 559707.27,6223221.14 559684.02,6223198.72 559665.46,6223180.56 559604.41,6223120.3 559595.73,6223111.74 559456.6,6223000.0 559426.19,6222972.49 559413.91,6222962.94 559357.99,6222916.52 559437.53,6222856.28 559453.09,6222850.92 559465.07,6222846.78 559476.42,6222842.82 559511.27,6222824.06 559525.88,6222819.04 559536.42,6222685.78 559531.81,6222620.81 559558.79,6222549.39 559535.42,6222539.04 559141.38,6222364.58 559143.06,6222345.92 559149.29,6222328.82 559156.32,6222304.95 559169.34,6222296.34 559173.32,6222293.47 559182.72,6222290.72 559208.11,6222268.61 559220.59,6222238.35 559235.04,6222227.35 559245.81,6222210.16 559252.63,6222195.12 559284.55,6222184.7 559329.33,6222174.79 559340.32,6222162.04 559348.47,6222152.59 559353.04,6222144.49 559353.37,6222139.27 559357.21,6222079.1 559354.14,6222018.98 559355.22,6222014.67 559362.85,6221984.38 559374.07,6221956.78 559375.62,6221945.95 559417.2,6221913.0 559415.35,6221858.77 559412.75,6221832.35 559405.35,6221757.31 559403.28,6221749.48 559400.26,6221737.94 559402.5,6221729.08 559408.5,6221717.97 559413.91,6221704.22 559415.96,6221689.63 559416.94,6221679.59 559417.28,6221672.49 559421.88,6221660.16 559423.24,6221659.21 559429.16,6221655.07 559430.26,6221654.31 559435.31,6221641.98 559437.1,6221636.63 559439.69,6221628.95 559448.05,6221596.47 559470.29,6221531.26 559484.15,6221490.66 559501.77,6221442.93 559501.95,6221432.37 559492.82,6221428.12 559507.45,6221366.52 559513.69,6221310.27 559524.02,6221279.67 559542.69,6221255.74 559545.33,6221252.37 559546.54,6221245.8 559550.59,6221234.23 559551.56,6221217.55 559549.91,6221199.09 559576.28,6221147.38 559584.71,6221116.02 559587.3,6221106.38 559584.78,6221096.38 559580.02,6221077.47 559551.69,6220995.65 559553.36,6220994.58 559561.36,6220989.42 559571.57,6220982.83 559579.67,6220977.61 559592.35,6220969.43 559602.5,6220962.89 559655.22,6220928.89 559698.93,6220900.71 559741.58,6220896.7 559812.83,6220889.74 559861.72,6220884.97 559966.88,6220904.3 560059.36,6220920.09 560062.59,6220920.46 560090.85,6220923.7 560111.98,6220877.69 560116.44,6220867.98 560138.64,6220818.14 560140.15,6220813.44 560146.89,6220792.52 560160.91,6220767.96 560212.02,6220745.99 560247.15,6220738.83 560259.44,6220737.28 560290.52,6220730.72 560322.73,6220725.28 560338.48,6220722.61 560351.81,6220725.61 560362.33,6220738.74 560366.51,6220746.99 560376.68,6220780.02 560440.02,6220778.74 560457.6,6220778.69 560468.68,6220776.49 560539.69,6220742.04 560532.13,6220708.8 560522.62,6220681.83 560528.62,6220586.26 560530.21,6220516.19 560533.26,6220381.33 560600.65,6220269.48 560614.06,6220247.22 560686.5,6220122.47 560712.06,6220078.86 560767.28,6219983.33 560769.13,6219968.92 560769.75,6219827.91 560767.21,6219817.38 560751.3,6219672.61 560693.77,6219625.01 560644.45,6219485.48 560604.26,6219371.77 560673.44,6219349.98 560759.65,6219322.83 560771.95,6219314.09 560903.04,6219221.48 561033.63,6219129.81 561051.33,6219117.47 560984.11,6219009.34 560957.2,6218953.41 560941.89,6218911.92 560932.86,6218882.39 560940.21,6218866.47 560952.59,6218840.05 560950.72,6218838.25 560959.53,6218830.14 561027.44,6218792.46 561060.6,6218767.31 561099.74,6218734.96 561148.57,6218687.05 561182.36,6218660.48 561213.02,6218640.8 561234.3,6218619.78 561238.13,6218615.13 561263.39,6218572.58 561273.06,6218565.79 561271.92,6218558.08 561282.22,6218545.09 561291.24,6218533.72 561300.23,6218530.05 561307.86,6218528.74 561316.01,6218531.61 561323.31,6218536.28 561338.77,6218552.03 561341.85,6218554.3 561347.56,6218555.08 561350.11,6218553.43 561355.4,6218551.89 561361.39,6218552.34 561363.4,6218554.17 561362.31,6218565.63 561372.35,6218572.29 561380.63,6218577.78 561395.52,6218583.48 561426.05,6218589.12 561438.81,6218593.9 561459.47,6218603.28 561467.15,6218602.38 561468.87,6218601.41 561491.26,6218588.81 561494.28,6218587.68 561503.21,6218584.34 561508.31,6218583.93 561513.12,6218583.99 561518.13,6218586.38 561521.06,6218588.27 561523.24,6218589.68 561530.68,6218596.02 561537.38,6218584.08 561548.11,6218587.2 561558.5,6218574.42 561569.83,6218580.57 561604.56,6218593.13 561605.92,6218585.66 561610.91,6218584.4 561619.19,6218591.1 561622.95,6218594.3 561624.87,6218599.89 561613.94,6218610.69 561614.64,6218628.7 561618.73,6218632.33 561641.23,6218633.52 561643.7,6218640.2 561646.77,6218648.48 561635.55,6218659.77 561650.91,6218672.55 561664.32,6218693.92 561675.06,6218694.83 561692.22,6218688.13 561697.6,6218690.93 561706.87,6218695.74 561713.38,6218711.97 561720.98,6218718.53 561744.38,6218730.75 561758.13,6218752.32 561768.25,6218768.19 561775.33,6218773.43 561781.86,6218776.28 561788.57,6218781.21 561798.44,6218786.93 561802.38,6218794.12 561801.46,6218798.1 561785.68,6218817.67 561786.87,6218824.45 561790.09,6218827.69 561814.55,6218829.51 561823.0,6218832.5 561828.68,6218839.88 561830.18,6218846.05 561825.88,6218854.46 561826.85,6218859.86 561841.47,6218865.03 561854.35,6218866.16 561863.74,6218867.74 561869.02,6218872.41 561870.96,6218875.32 561878.57,6218894.29 561882.49,6218904.05 561874.89,6218908.64 561872.46,6218909.87 561873.74,6218913.3 561888.87,6218911.7 561892.65,6218914.35 561897.41,6218925.33 561897.66,6218925.91 561908.18,6218930.54 561922.08,6218936.12 561924.14,6218938.4 561923.89,6218944.32 561916.59,6218956.99 561913.16,6218965.17 561909.59,6218990.85 561908.39,6218999.48 561909.69,6219010.77 561911.74,6219019.02 561914.46,6219023.08 561924.8,6219027.47 561937.77,6219034.83 561940.19,6219043.5 561940.53,6219052.22 561938.49,6219093.61 561940.2,6219119.9 561943.49,6219136.59 561941.19,6219136.83 561830.1,6219142.62 561769.02,6219147.02 561780.97,6219181.16 561783.64,6219250.59 561935.07,6219206.83 561937.7,6219208.45 561933.93,6219214.56 561937.57,6219242.92 561940.82,6219252.42 561955.01,6219273.62 561957.45,6219283.2 561956.26,6219309.82 561960.96,6219318.53 561971.3,6219339.65 561971.36,6219356.66 561960.23,6219373.23 561957.24,6219380.34 561951.79,6219392.88 561945.39,6219400.65 561950.57,6219404.27 562063.9,6219423.6 562075.47,6219426.61 562113.45,6219431.92 562126.39,6219433.8 562443.14,6219488.23 562455.28,6219492.1 562499.54,6219506.41 562515.41,6219513.43 562533.62,6219528.12 562670.79,6219599.08 562712.3,6219622.35 562770.08,6219660.88 562790.36,6219668.14 562818.22,6219678.11 562845.92,6219690.5 562889.12,6219716.2 562927.4,6219750.78 562948.11,6219763.03 562998.37,6219809.55 563020.96,6219828.07 563038.72,6219842.62 563070.88,6219868.99 563095.33,6219882.98 563122.22,6219896.05 563138.44,6219902.83 563215.48,6219891.65 563264.62,6219906.11 563258.93,6219920.73 563245.34,6219953.16 563252.49,6219956.28 563266.52,6219924.33 563342.12,6219732.68 563404.03,6219575.73 563408.72,6219566.24 563455.72,6219447.89 563472.42,6219405.94 563580.84,6219392.09 563587.1,6219390.96 563587.8,6219394.45 563588.69,6219397.41 563590.54,6219400.97 563593.68,6219404.81 563604.01,6219415.36 563612.03,6219424.34 563617.15,6219432.19 563623.4,6219448.67 563629.49,6219471.23 563631.63,6219487.99 563633.51,6219507.86 563633.67,6219523.23 563633.79,6219542.32 563633.86,6219554.63 563692.74,6219547.35 563711.3,6219545.05 563711.47,6219548.95 563711.64,6219552.59 563725.31,6219550.13 563804.48,6219535.83 563857.34,6219526.29 563912.91,6219689.33 563873.15,6219695.56 563851.77,6219698.94 563877.4,6219801.77 563848.4,6219816.34 563847.03,6219816.95 563819.27,6219829.39 563817.85,6219838.87 563809.29,6219895.54 563799.74,6219919.06 563705.36,6219947.5 563774.15,6220100.9 563681.86,6220108.15 563679.62,6220128.07 563677.25,6220140.37 563671.8,6220162.37 563669.31,6220175.5 563667.19,6220187.09 563667.37,6220193.9 563672.77,6220201.83 563674.0,6220208.37 563674.61,6220216.96 563675.78,6220224.74 563676.22,6220232.71 563674.75,6220241.74 563673.93,6220250.29 563671.81,6220255.48 563673.14,6220258.42 563672.58,6220266.57 563676.51,6220273.75 563686.43,6220293.41 563689.16,6220292.89 563699.38,6220298.27 563703.06,6220301.13 563713.25,6220305.17 563742.01,6220321.31 563749.12,6220325.91 563752.42,6220330.08 563753.25,6220333.75 563752.9,6220340.34 563755.75,6220346.16 563758.06,6220358.21 563749.29,6220356.44 563761.74,6220372.55 563769.87,6220380.97 563766.64,6220394.07 563771.06,6220403.78 563775.42,6220415.93 563782.19,6220428.0 563788.51,6220430.4 563791.29,6220432.4 563789.15,6220444.01 563787.47,6220458.06 563803.19,6220461.71 563805.57,6220462.27 563812.99,6220469.32 563821.9,6220469.07 563828.85,6220467.77 563849.69,6220467.26 563854.23,6220477.96 563858.8,6220487.46 563869.18,6220483.32 563875.03,6220483.16 563883.96,6220484.52 563893.67,6220484.29 563900.07,6220488.89 563903.9,6220498.03 563912.37,6220519.5 563921.77,6220527.23 563932.78,6220530.82 563932.71,6220532.06 563931.2,6220558.43 563925.18,6220560.59 563921.79,6220564.82 563920.25,6220569.73 563924.43,6220574.94 563929.03,6220577.17 563936.28,6220578.35 563943.31,6220585.22 563946.6,6220586.27 563950.86,6220586.64 563959.19,6220589.77 563965.04,6220594.88 563981.72,6220597.41 563997.5,6220599.29 564004.52,6220598.24 564011.29,6220598.62 564018.53,6220597.27 564027.51,6220596.92 564026.27,6220610.36 564027.84,6220613.13 564034.11,6220620.98 564033.41,6220634.06 564031.46,6220638.76 564024.67,6220644.6 564025.79,6220648.4 564041.69,6220652.76 564050.05,6220663.89 564057.66,6220666.96 564053.31,6220677.42 564049.47,6220688.45 564052.91,6220700.25 564060.18,6220719.3 564061.63,6220722.74 564068.92,6220726.45 564081.28,6220734.51 564078.81,6220742.6 564074.33,6220751.33 564073.77,6220755.73 564070.27,6220763.35 564070.23,6220776.81 564058.09,6220786.56 564058.72,6220798.55 564065.99,6220799.81 564071.72,6220806.14 564081.62,6220812.96 564093.09,6220813.79 564098.92,6220817.39 564094.71,6220823.99 564090.34,6220829.21 564087.09,6220835.42 564085.84,6220840.87 564087.85,6220848.76 564090.12,6220855.4 564093.13,6220855.85 564094.87,6220857.07 564096.69,6220861.62 564098.07,6220866.66 564100.62,6220873.82 564102.39,6220879.61 564096.11,6220885.1 564086.02,6220894.56 564095.35,6220904.92 564094.4,6220921.2 564127.36,6220940.03 564186.98,6220956.89 564226.06,6220952.16 564254.82,6220941.55 564260.12,6220922.78 564268.37,6220934.85 564282.3,6220940.95 564288.55,6221025.9 564285.1,6221062.1 564280.73,6221063.4 564280.72,6221065.92 564280.71,6221074.01 564283.84,6221077.61 564286.28,6221107.08 564274.09,6221124.19 564249.26,6221200.01 564224.13,6221280.15 564218.26,6221330.19 564215.57,6221353.11 564203.31,6221373.75 564186.57,6221407.74 564207.56,6221409.82 564189.73,6221558.76 564189.68,6221560.54 564209.68,6221561.37 564232.89,6221563.36 564246.98,6221553.79 564254.63,6221527.24 564260.98,6221507.35 564270.74,6221508.43 564279.03,6221515.96 564286.29,6221544.64 564295.99,6221554.63 564299.86,6221555.06 564304.18,6221556.29 564318.23,6221552.91 564388.86,6221537.44 564418.57,6221539.06 564439.85,6221540.21 564443.47,6221541.15 564452.23,6221543.43 564466.28,6221534.1 564470.67,6221531.79 564474.98,6221529.53 564483.25,6221527.5 564494.05,6221524.86 564523.3,6221517.69 564535.83,6221518.49 564584.81,6221543.18 564609.0,6221555.37 564629.27,6221573.76 564645.31,6221588.33 564651.19,6221591.95 564651.67,6221592.24 564661.21,6221592.24 564678.76,6221588.49 564681.56,6221587.9 564682.42,6221587.71 564697.55,6221586.46 564735.72,6221583.66 564754.24,6221584.64 564766.37,6221587.04 564766.93,6221582.92 564768.45,6221571.8 564754.7,6221570.33 564756.14,6221564.38 564762.76,6221554.24 564764.52,6221551.91 564771.38,6221546.63 564783.24,6221542.95 564798.5,6221540.04 564834.26,6221538.84 564837.61,6221537.86 564840.84,6221536.52 564843.9,6221534.83 564846.76,6221532.82 564849.37,6221530.5 564851.71,6221527.91 564853.76,6221525.07 564855.47,6221522.02 564856.84,6221518.81 564857.85,6221515.46 564858.48,6221512.02 564858.73,6221508.54 564858.59,6221505.05 564858.07,6221501.59 564886.53,6221497.12 564880.42,6221517.96 564909.67,6221545.16 564920.62,6221549.35 564924.3,6221555.09 564921.84,6221559.68 564918.51,6221561.13 564914.59,6221566.03 564911.92,6221571.35 564918.9,6221573.23 564924.52,6221572.61 564932.42,6221569.39 564939.05,6221564.08 564945.05,6221558.56 564947.02,6221558.78 564955.28,6221559.71 564965.86,6221565.34 564972.79,6221570.76 564994.99,6221564.7 565002.21,6221554.81 564996.64,6221540.12 565000.99,6221537.0 565010.17,6221535.22 565013.68,6221541.77 565020.38,6221551.87 565030.93,6221557.56 565035.28,6221538.47 565036.03,6221535.17 565018.3,6221523.86 565018.26,6221499.39 565018.32,6221493.9 565094.47,6221492.34 565150.5,6221535.14 565158.23,6221541.05 565171.47,6221550.34 565182.32,6221557.38 565199.53,6221564.64 565223.87,6221578.07 565278.97,6221611.0 565313.33,6221631.54 565316.44,6221633.4 565325.2,6221638.81 565332.89,6221644.43 565337.97,6221655.49 565346.69,6221679.13 565347.57,6221681.54 565362.17,6221704.98 565363.4,6221707.33 565371.68,6221723.19 565382.16,6221741.5 565393.97,6221750.37 565422.01,6221764.87 565461.29,6221785.07 565499.86,6221811.48 565513.17,6221821.08 565520.23,6221826.18 565521.07,6221826.79 565529.15,6221828.31 565648.09,6221807.27 565664.6,6221804.33 565681.55,6221802.56 565718.62,6221806.72 565721.42,6221806.39 565743.79,6221803.78 565746.69,6221803.57 565829.73,6221797.61 565847.74,6221807.79 565858.02,6221815.61 565875.33,6221845.55 565887.83,6221869.83 565902.56,6221892.68 565905.95,6221896.94 565913.4,6221906.23 565921.04,6221914.01 565952.64,6221946.16 565956.65,6221950.25 565990.97,6221983.86 565988.54,6221986.17 565975.32,6221987.22 565869.59,6222095.19 565826.09,6222139.63 565790.6,6222182.48 565689.66,6222304.37 565680.42,6222315.54 565676.52,6222319.98 565679.09,6222322.1 565665.0,6222330.04 565649.74,6222338.63 565627.46,6222365.26 565608.19,6222414.7 565599.67,6222436.58 565587.24,6222453.81 565569.4,6222492.97 565545.8,6222505.2 565536.88,6222513.89 565442.59,6222577.78 565451.21,6222585.51 565398.76,6222627.3 565401.33,6222630.96 565390.93,6222639.53 565392.13,6222636.11 565384.79,6222627.97 565377.39,6222625.04 565375.58,6222622.68 565365.9,6222630.31 565364.28,6222648.42 565361.88,6222657.27 565363.07,6222666.3 565367.46,6222677.67 565367.31,6222678.04 565362.02,6222690.8 565344.42,6222693.82 565338.91,6222696.46 565335.81,6222698.56 565323.33,6222706.99 565318.71,6222718.93 565316.64,6222724.7 565311.64,6222738.64 565308.06,6222744.91 565304.81,6222750.6 565297.39,6222759.7 565293.68,6222764.26 565277.65,6222761.52 565238.05,6222794.12 565222.02,6222807.17 565217.82,6222829.33 565209.75,6222850.23 565202.64,6222858.96 565187.41,6222869.01 565180.95,6222880.37 565185.01,6222902.42 565182.36,6222912.26 565172.81,6222918.05 565150.02,6222913.93 565142.05,6222912.49 565130.28,6222912.0 565104.03,6222910.96 565084.03,6222922.46 565081.28,6222924.82 565047.59,6222953.91 565029.33,6222970.78 565018.19,6222983.14 565009.07,6222985.99 565003.67,6222992.2 564998.41,6223001.69 564978.08,6223023.09 564971.62,6223028.25 564961.12,6223030.8 564938.5,6223022.31 564901.82,6223032.27 564887.69,6223032.37 564874.04,6223035.24 564845.09,6223048.03 564825.45,6223056.59 564818.51,6223059.62 564816.23,6223054.38 564783.67,6223068.98 564749.26,6223091.24 564702.95,6223107.39 564704.69,6223112.38 564686.3,6223107.12 564655.49,6223093.5 564627.08,6223091.67 564592.9,6223085.44 564579.75,6223085.45 564559.95,6223084.19 564550.74,6223088.28 564547.22,6223091.96 564537.87,6223104.24 564525.52,6223112.4 564511.05,6223126.51 564498.12,6223145.95 564486.53,6223164.26 564480.76,6223174.81 564474.13,6223192.23 564468.66,6223200.42 564467.88,6223210.64 564473.49,6223217.19 564485.54,6223225.32 564494.5,6223237.92 564495.23,6223244.91 564486.69,6223261.98 564481.82,6223268.75 564479.63,6223280.65 564476.83,6223286.82 564467.06,6223298.32 564466.86,6223304.77 564473.65,6223314.05 564479.72,6223321.34 564480.21,6223326.3 564466.14,6223344.12 564456.66,6223344.7 564438.7,6223340.17 564424.27,6223351.03 564420.31,6223358.12 564400.37,6223373.78 564390.54,6223378.27 564386.45,6223372.77 564374.99,6223350.35 564365.44,6223351.64 564351.35,6223361.66 564348.15,6223357.11 564320.13,6223363.59 564316.63,6223364.4 564313.64,6223373.48 564307.65,6223378.71 564309.09,6223410.65 564305.69,6223417.45 564260.12,6223476.2 564264.12,6223477.63 564280.54,6223490.79 564284.09,6223494.6 564277.95,6223500.21 564271.94,6223511.53 564270.41,6223515.86 564265.5,6223529.77 564254.8,6223545.8 564254.5,6223546.46 564248.94,6223552.19 564243.32,6223556.69 564240.52,6223553.2 564226.33,6223557.44 564218.68,6223559.81 564202.89,6223564.73 564200.18,6223565.57 564198.79,6223567.69 564190.85,6223579.82 564180.44,6223602.25 564180.11,6223602.97 564178.58,6223611.27 564196.57,6223643.71 564199.18,6223649.43 564206.33,6223656.77 564210.46,6223660.11 564216.11,6223664.67 564222.66,6223668.62 564227.89,6223673.4 564232.16,6223677.96 564237.27,6223685.01 564240.65,6223689.93 564244.69,6223700.21 564246.01,6223703.57 564250.49,6223712.77 564251.75,6223719.03 564252.96,6223722.33 564252.63,6223724.42 564254.1,6223729.75 564254.42,6223735.7 564251.49,6223746.21 564248.8,6223751.02 564243.53,6223756.12 564235.75,6223762.51 564230.67,6223765.86 564226.08,6223766.51 564221.85,6223767.12 564214.86,6223768.57 564203.3,6223768.43 564200.16,6223768.46 564194.54,6223766.04 564190.56,6223763.49 564185.45,6223763.03 564178.77,6223763.06 564171.81,6223765.61 564165.46,6223766.27 564159.95,6223768.2 564155.06,6223769.81 564146.67,6223772.64 564145.48,6223773.05 564143.0,6223774.15 564141.99,6223776.2 564142.32,6223787.45 564141.25,6223791.8 564141.21,6223798.4 564138.85,6223808.89 564136.96,6223817.55 564135.11,6223823.4 564133.15,6223828.96 564129.49,6223834.19 564126.19,6223837.45 564121.16,6223841.72 564112.99,6223844.03 564103.59,6223846.6 564094.38,6223842.47 564091.93,6223845.29 564090.28,6223848.06 564088.83,6223852.74 564092.46,6223862.43 564095.15,6223864.54 564112.47,6223881.88 564120.7,6223891.73 564133.22,6223906.18 564143.23,6223923.04 564149.06,6223942.57 564129.8,6223966.16 564116.79,6224001.6 564106.49,6224008.57 564086.6,6224013.6 564062.25,6224014.94 564045.29,6224014.18 564029.58,6224011.59 564021.22,6224009.36 564018.61,6224005.0 564013.53,6223979.64 563998.0,6223980.03 563976.79,6223976.1 563957.71,6223961.33 563946.93,6223956.59 563932.47,6223953.62 563915.72,6223956.33 563905.48,6223961.43 563894.83,6223967.33 563888.62,6223975.79 563880.99,6223983.4 563872.42,6224000.2 563865.99,6224021.97 563867.53,6224028.15 563874.6,6224032.22 563894.4,6224031.87 563908.24,6224034.65 563917.94,6224041.23 563926.98,6224045.98 563931.32,6224053.97 563933.13,6224064.6 563934.56,6224080.11 563938.13,6224094.78 563940.09,6224101.62 563942.19,6224111.71 563944.29,6224116.2 563946.13,6224125.05 563950.09,6224131.36 563958.29,6224153.0 563961.49,6224156.2 563967.83,6224165.38 563975.77,6224176.59 563983.2,6224181.95 563986.34,6224185.2 563987.51,6224190.17 563998.16,6224196.76 564005.35,6224200.86 564013.54,6224205.24 564023.15,6224210.17 564036.55,6224215.68 564042.23,6224219.82 564045.79,6224222.5 564055.29,6224228.46 564065.5,6224237.67 564069.52,6224242.68 564073.33,6224250.57 564076.96,6224259.85 564078.81,6224272.61 564082.24,6224280.98 564086.09,6224287.6 564088.37,6224302.14 564085.34,6224311.43 564084.35,6224312.87 564078.76,6224321.0 564075.81,6224323.15 564064.08,6224330.08 564048.53,6224338.34 564041.32,6224338.79 564037.6,6224339.64 564029.95,6224338.24 564023.94,6224335.75 564017.58,6224332.26 564006.26,6224326.9 563995.48,6224329.06 563991.74,6224329.6 563985.5,6224335.34 563978.77,6224341.47 563973.24,6224346.84 563965.84,6224354.14 563962.44,6224361.14 563961.58,6224371.24 563963.93,6224380.38 563963.88,6224386.62 563962.63,6224395.55 563962.7,6224401.68 563958.55,6224405.67 563949.76,6224414.23 563947.06,6224426.69 563950.5,6224434.78 563958.18,6224444.79 563964.63,6224452.52 563968.83,6224455.45 563970.55,6224466.79 563969.9,6224475.64 563968.74,6224496.99 563969.1,6224500.82 563973.57,6224507.81 563977.63,6224513.62 563978.88,6224515.07 563982.74,6224523.76 563984.0,6224532.94 563980.7,6224541.51 563976.84,6224546.18 563971.66,6224547.39 563963.96,6224548.76 563954.64,6224548.18 563943.57,6224546.47 563942.38,6224546.28 563934.07,6224544.26 563918.31,6224542.78 563898.69,6224545.35 563877.98,6224554.78 563866.51,6224570.9 563864.9,6224577.49 563862.68,6224589.69 563860.03,6224594.95 563858.72,6224597.13 563853.64,6224605.6 563848.25,6224613.77 563842.61,6224619.29 563815.5,6224626.42 563805.23,6224627.71 563787.8,6224633.95 563781.41,6224639.15 563775.77,6224655.0 563778.09,6224665.68 563775.05,6224678.14 563776.18,6224685.67 563778.09,6224692.37 563782.52,6224702.15 563784.25,6224705.36 563787.42,6224714.4 563789.75,6224719.01 563792.3,6224724.94 563790.4,6224731.14 563786.38,6224745.46 563793.95,6224753.05 563796.61,6224762.97 563798.43,6224768.35 563799.51,6224776.16 563800.29,6224783.15 563799.74,6224793.9 563799.74,6224802.04 563799.17,6224815.03 563798.99,6224819.15 563804.19,6224826.47 563806.81,6224834.46 563809.43,6224841.0 563812.45,6224845.66 563819.89,6224856.44 563823.62,6224863.11 563824.62,6224866.11 563825.65,6224869.19 563827.54,6224878.14 563827.44,6224883.91 563826.46,6224893.06 563825.4,6224908.01 563824.9,6224914.49 563824.62,6224929.91 563823.06,6224936.67 563819.43,6224955.76 563808.91,6224970.5 563801.52,6224983.77 563798.36,6224988.89 563797.08,6224991.4 563795.14,6224991.56 563790.31,6224990.04 563781.3,6224986.32 563775.34,6224986.4 563769.21,6224988.01 563762.74,6224994.15 563760.38,6224998.35 563756.12,6225005.92 563747.54,6225023.0 563741.53,6225037.98 563737.22,6225052.73 563729.91,6225071.73 563724.41,6225082.84 563722.19,6225088.61 563712.75,6225111.01 563707.61,6225124.81 563706.45,6225127.89 563702.86,6225134.71 563691.51,6225156.22 563685.75,6225174.05 563682.2,6225192.12 563680.29,6225201.74 563673.32,6225225.26 563671.35,6225238.26 563678.92,6225279.29 563680.79,6225283.25 563699.23,6225322.37 563701.35,6225333.82 563699.74,6225339.71 563678.84,6225359.42 563667.04,6225372.9 563656.71,6225381.03 563653.07,6225386.64 563642.34,6225414.56 563636.87,6225427.14 563614.8,6225459.65 563596.99,6225483.22 563591.89,6225496.31 563573.9,6225556.82 563568.68,6225595.89 563573.82,6225607.72 563589.64,6225624.84 563598.44,6225623.71 563609.48,6225622.29 563616.78,6225624.12 563624.6,6225626.82 563626.56,6225631.36 563628.28,6225637.51 563632.29,6225650.66 563635.15,6225659.65 563645.22,6225674.88 563656.92,6225686.48 563664.79,6225693.19 563711.79,6225722.26 563784.53,6225767.39 563797.09,6225774.9 563802.31,6225782.67 563803.33,6225783.53 563803.89,6225791.71 563802.0,6225803.63 563799.28,6225814.86 563798.22,6225819.26 563784.29,6225841.5 563779.46,6225849.21 563753.89,6225884.25 563749.02,6225891.55 563723.84,6225932.31 563719.45,6225940.34 563717.55,6225946.08 563715.88,6225953.85 563698.81,6226033.49 563676.3,6226125.0 563669.95,6226140.15 563662.59,6226148.26 563652.61,6226157.05 563637.83,6226166.7 563633.41,6226169.4 563587.57,6226181.9 563575.42,6226188.36 563546.09,6226207.44 563535.96,6226216.96 563511.05,6226238.81 563494.82,6226271.78 563483.07,6226282.91 563481.27,6226284.61 563442.28,6226295.56 563401.77,6226316.38 563386.46,6226326.81 563369.65,6226329.08 563351.72,6226328.19 563350.01,6226328.11 563326.2,6226333.56 563284.34,6226331.27 563280.99,6226334.66 563278.44,6226337.23 563273.25,6226350.99 563257.23,6226360.8 563248.09,6226366.39 563239.73,6226360.16 563196.26,6226327.78 563186.7,6226328.89 563175.99,6226335.86 563172.06,6226338.42 563157.8,6226343.34 563143.36,6226328.31 563133.82,6226313.96 563084.65,6226272.51 563065.8,6226275.46 563055.14,6226288.25 563050.21,6226318.21 563044.39,6226319.83 563013.09,6226309.66 562983.67,6226290.3 562978.38,6226286.81 562976.87,6226285.82 562932.37,6226285.07 562895.54,6226305.72 562885.32,6226313.39 562868.55,6226325.99 562868.9,6226336.98 562881.48,6226373.07 562878.08,6226383.84 562868.34,6226394.05 562837.45,6226392.57 562830.59,6226388.67 562821.03,6226389.93 562815.98,6226396.76 562821.43,6226406.68 562824.34,6226411.96 562836.25,6226423.76 562841.28,6226446.4 562841.35,6226471.84 562836.12,6226487.63 562824.16,6226503.34 562800.72,6226530.1 562797.48,6226533.8 562794.43,6226533.47 562741.19,6226527.61 562729.9,6226530.24 562717.3,6226532.07 562704.21,6226533.97 562689.68,6226527.66 562688.76,6226516.34 562694.12,6226506.62 562700.38,6226482.43 562694.22,6226475.6 562692.11,6226475.6 562682.75,6226475.59 562669.81,6226478.42 562659.4,6226476.68 562649.03,6226474.92 562638.07,6226467.33 562622.41,6226443.31 562606.44,6226442.5 562604.82,6226450.01 562606.55,6226460.53 562591.76,6226469.07 562585.29,6226476.14 562574.98,6226476.1 562558.66,6226474.58 562539.35,6226464.68 562534.89,6226458.73 562535.59,6226453.8 562543.75,6226449.97 562558.1,6226450.99 562568.21,6226448.69 562589.75,6226435.7 562591.07,6226418.0 562563.28,6226406.03 562545.33,6226410.7 562526.64,6226419.75 562507.46,6226423.86 562486.53,6226427.07 562470.84,6226440.07 562452.91,6226449.24 562437.73,6226451.79 562415.05,6226464.27 562406.89,6226477.53 562402.59,6226487.38 562389.79,6226500.28 562350.57,6226510.18 562312.68,6226496.69 562243.23,6226458.96 562186.18,6226460.92 562170.69,6226448.73 562155.04,6226437.12 562131.93,6226436.49 562112.56,6226439.43 562080.37,6226448.27 562051.9,6226462.09 562045.03,6226461.87 562021.88,6226454.13 562002.19,6226446.48 561990.14,6226435.21 561975.85,6226418.94 561942.42,6226413.79 561928.08,6226407.31 561925.8,6226411.6 561917.32,6226419.48 561907.47,6226419.34 561900.32,6226415.4 561885.34,6226413.5 561883.49,6226413.26 561876.82,6226412.42 561861.24,6226407.3 561840.17,6226406.32 561787.89,6226403.89 561753.39,6226405.23 561713.39,6226406.79 561694.32,6226409.48 561656.05,6226414.49 561636.35,6226417.07 561628.04,6226418.16 561578.27,6226424.67 561558.81,6226427.18 561496.37,6226428.09 561486.46,6226428.41 561486.32,6226429.81 561484.77,6226429.69 561481.33,6226429.41 561477.25,6226429.08 561475.37,6226428.92 561472.86,6226428.71 561468.76,6226428.36 561464.0,6226427.96 561457.59,6226427.38 561451.86,6226426.87 561441.19,6226425.85 561433.69,6226425.1 561431.58,6226424.89 561422.27,6226423.9 561421.26,6226423.79 561412.87,6226422.87 561410.73,6226422.62 561404.15,6226421.88 561403.36,6226421.79 561394.83,6226420.82 561387.04,6226419.96 561386.52,6226419.9 561379.11,6226419.12 561378.72,6226419.08 561371.19,6226418.33 561362.43,6226417.53 561353.98,6226416.81 561346.58,6226416.22 561338.01,6226415.57 561328.98,6226414.91 561313.82,6226416.38 561277.61,6226419.83 561271.01,6226424.47 561197.62,6226425.54 561177.34,6226423.84 561168.18,6226423.08 561148.17,6226421.4 561074.85,6226401.75 561083.03,6226264.7 561096.6,6226037.41 561024.07,6226033.1 560992.1,6226033.59 560971.78,6226050.44 560979.01,6226108.39 560908.48,6226139.43 560890.26,6225999.4 560887.99,6225977.49 560887.52,6225973.64</gml:coordinates>
                        </gml:LinearRing>
                    </gml:outerBoundaryIs>
                </gml:Polygon>

   */
}

exports.gmlGeometryToWkt = function(json) {
  if(json.Polygon) {
    return gmlPolygonToWkt(json.Polygon[0]);
  }
  if(json.MultiPolygon) {
    return gmlMultiPolygonToWkt(json.MultiPolygon[0]);
  }
  if(json.Surface) {
    return gmlSurfaceToWkt(json.Surface[0]);
  }

  throw new Error('Unsupported geometry type');
};
